# 简述 JavaScript 事件冒泡和事件捕获原理

## 标签

- [#JavaScript/Events](#)

## 版本

### 2021-03-18

*引用*

- Event: https://developer.mozilla.org/zh-CN/docs/Web/API/Event
- Learn_Events: https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Building_blocks/Events

*延伸*

**什么是事件**

- 事件是在程序运行时系统内会发生的动作或事情，它可以由 API 生成，比如指示动画已经完成运行的事件等；可以由用户触发，比如鼠标或键盘事件等；可以由脚本代码触发，比如对 HTML 元素调用 click 方法等

- 在 JavaScript 中，Event 接口表示会在 DOM 中出现的事件，它包含适用于所有事件的属性和方法

- 很多 DOM 元素被设计成可以接收或监听这些事件, 并且执行代码去响应或处理它们；当有很多嵌套的元素，并且每一个元素都有着自己的事件处理函数时，这个处理过程会变得非常复杂；尤其当一个父元素和子元素绑定有相同类型的事件处理函数的时候，因为这种结构上的重叠，事件处理函数可能会依次被触发，而触发的顺序取决于事件冒泡和事件捕获在每一个元素上的设置情况

**事件冒泡和事件捕获**

- 当一个事件发生在具有父元素的元素（以下称作目标元素）上时，现代浏览器会运行两个不同的阶段 —— 捕获阶段和冒泡阶段

  - 在捕获阶段，浏览器会先检查该目标元素的最外层祖先 `<html>` 元素是否在捕获阶段注册了一个事件处理函数，如果是则运行它，然后它移动到该目标元素的下一个祖先元素，并执行相同的操作，依此类推，直到到达该目标元素

  - 在冒泡阶段，浏览器会先检查该目标元素是否在冒泡阶段注册了一个事件处理函数，如果是则运行它，然后它移动到该目标元素的下一个直接祖先元素，并执行相同的操作，依此类推，直到到达该目标元素的最外层祖先 `<html>` 元素

- 在现代浏览器中，默认情况下，所有事件处理函数都在冒泡阶段进行注册